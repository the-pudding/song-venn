/* CUSTOM STORY STYLE */
.story
  margin 0 auto
  margin-top 10rem
  h1
    text-align center
    font-size 48px
    max-width 500px
    margin 0 auto
    width 95%
    margin-bottom 5rem
  .frame
    margin 0 auto
    max-width 500px
    width 95%
    text-align center
    .frame-top
      font-size 1.3rem
      text-align center
      display block


.line-chart
  margin 0 auto
  display block
  margin-bottom 5rem
  @media (max-width: 550px)
    margin-bottom 2rem
.hed
    font-size 64px
    max-width 60rem
    margin 0 auto
    padding 6rem 0 1rem 0
    text-align center


body
    background-color: #FFF
    color: #111
.line
    fill none
    stroke black


.chart-annotation-arrow
    path
        fill none
        stroke black

.lede
    padding-top 1rem
    padding-bottom 0

.scroll
    margin: 0 auto

.line
    &.scroll
        opacity 0
        stroke black
        fill none

article
    position relative

figure.sticky
    position: -webkit-sticky;
    position: sticky;
    top: 3rem;

.story-text
    //margin 1.5rem 10rem
    width 95%
    font-size 21px
    max-width 500px
    color #402a07
    margin 0 auto
    margin-bottom 1.5rem
    @media (max-width: 450px)
      font-size 19px
    @media (max-width: 350px)
      font-size 17.5px
    &:last-of-type
      margin-bottom 0
    .sound-icon-span
        padding-right 0


.chart-container__no-diggity
.chart-container__ace-of-base
.underperforming-songs
.overperforming-songs
.millennial-only-songs
    margin-bottom 2rem

.underperforming-songs
  .chart-subhed
    color #106bb3
  .chart
    .song-g
        .line
            stroke-width: 2px

.overperforming-songs
  .chart-subhed
    color $green-berry
  .annotation-note-content
    text
      fill $green-berry
  .mean-line
    .annotation-note-content
      text
        fill $rasp

  .chart
    .song-g
        .line
            stroke-width: 2px


.millennial-only-songs
  .chart-subhed
    color $orange
  .annotation-note-content
    text
      fill $orange

  .chart
    .song-g
        .line
            stroke-width: 2px



.story-text-scroll
    text-align: center
    background-color: white
    border black 2px solid
    padding 1rem
    max-width: 40rem
    z-index 20
    margin 0 auto

.circle-millennial
    fill gray

.circle-gen-z
    fill #ad1b64




// .lollipop-x-axis-base-difference
//     fill #52370c

.x
    &.axis
        font-family: 'Atlas Grotesk Web'
        font-weight: 300
    .tick
        line
            display none

.y
    &.axis
        font-family: 'Atlas Grotesk Web'
        font-weight: 300


.lollipop-g
    .sound-icon-g
        cursor pointer
        transform translate(3px, 11px)
        opacity .6
        svg
            cursor pointer
            rect
              cursor pointer
              fill #feefd7
              opacity .01
            path
                fill #111
                cursor pointer
    .x
        .tick
            line
                display initial
                stroke-dasharray: 3,3
    .annotation-note-bg
        fill #FEEFD7
        fill-opacity: 1
        display none


.tick
    line
        opacity 0.2
    text
        font-size: 14px
        fill #645D52
        opacity .8
        font-weight 500
        tspan
          fill #271900
          opacity .8
          font-size 12px
          font-weight 400

        @media (max-width: 550px)
            font-size: 14px

.scroll
    &.y
        .domain
            opacity 0
        .tick:last-of-type
            opacity 0
    &.x
        .domain
            opacity 0
    &.label
        font-family 'Atlas Grotesk Web'
    &.label-background
        stroke-width: 2px
        fill #FEEFD7

.chart-container__lollipop
  position relative
  &:after
    width 100%
    content ''
    height 200px
    background linear-gradient(180deg, rgba(254, 239, 215, 0), #feefd7)
    position absolute
    bottom 0
    left 0
    right 0
  .chart__lollipop
    max-height 5010px
    margin-bottom 2rem
    .lollipop-song-g-wrapper
      .lollipop-song-g
          display block
          &:nth-of-type(n+100)
            display none
          text
              fill #111f
              font-size 12px
              @media(max-width: 390px)
                font-size 11px
          .circle-gen-z-text, .circle-mil-text
            font-size 11px
            dominant-baseline middle
            alignment-baseline middle
            text-anchor start
            font-weight 500
            fill $rasp
          .circle-mil-text
            text-anchor end
            fill #666


.expanded
  &:after
    display none
  .chart__lollipop
    max-height none
    .lollipop-song-g-wrapper
      .lollipop-song-g
        &:nth-of-type(n+100)
          display block




.ace-of-base
    &.y
        .domain
            opacity 0
        .tick:last-of-type
            opacity 0
    &.x
        .domain
            opacity 0

.annotation-note-bg
  display none



.story-text-container
    position relative

text.label-axis
    font-family 'Atlas Grotesk Web'
    font-weight 600
    fill #52370c
    dominant-baseline text-after-edge
    alignment-baseline text-after-edge
    font-size 14px
    @media (max-width: 550px)
      font-size 12px

text.label-axis-y
    font-size 14px
    @media (max-width: 550px)
      font-size 12px

.label-axis-y-bg
  tspan
    font-size 14px
    fill #feefd7
    stroke #feefd7
    stroke-width 2px
    @media (max-width: 550px)
      font-size 12px



.annotation-note-content
    text
        font-family 'Atlas Grotesk Web'
        fill #52370c
        font-size 16px

.annotation-connector
    path
        stroke #52370c
        stroke-width: 0.5px
        stroke-dasharray 3 3 3 3
.chart
    .axis
        &.x
            .domain
                visibility: hidden
    .song-g
        .line
            stroke $rasp
            stroke-width: 2px
        .bg-line
          stroke-width 6px
          fill none
          stroke #feefd7

        circle
            fill $rasp
            fill-opacity .5

    .first-line
      .line
        stroke $berry
      circle
        fill $berry
        fill-opacity .5



    .popular_average
      .line
        stroke red


.y
    .domain
        opacity 0

.proclaimers-dre
    &.x
        &.axis
            .domain
                visibility: hidden
            .tick
                text
                    font-size: 16px
                    @media (max-width: 550px)
                        font-size: 14px

    &.y
        &.axis
            .tick
                text
                    font-size: 16px
                    @media (max-width: 550px)
                        font-size: 14px

.proclaimers-anno
    .annotation-note
        .annotation-note-content
            .annotation-note-label
                tspan
                    fill #ad1b64
                    font-size 16px
                    @media (max-width: 550px)
                        font-size 14px

.dre-anno
    .annotation-note
        .annotation-note-content
            .annotation-note-label
                tspan
                    fill $berry
                    font-size 16px
                    @media (max-width: 550px)
                        font-size 14px
.no-diggity-g
    .annotation-group
        .annotations
            .label
                .annotation-note-bg
                    opacity: 0.8;
                    fill: #FEEFD7;
                    fill-opacity: 0;
                    display initial

                .annotation-note-title, .annotation-note-label
                    font-size 16px
                    font-weight 500
                    color #332205
                    tspan
                      letter-spacing 0
                      fill #332205
                      font-weight 500
                      text-transform none
                      font-size 16px
                    @media (max-width: 550px)
                        tspan
                          font-size 12px
                .annotation-note-label
                    tspan
                      font-weight: 200
                      dominant-baseline text-after-edge
                      alignment-baseline text-after-edge
                      font-size 14px
                      @media (max-width: 550px)
                          font-size 12px
.note-five-yr-old
    @media (max-width: 550px)
        display: none



.ace-of-base-g
    .annotation-group
        .annotations
            .label
                .annotation-note-bg
                    opacity: 0.8;
                    fill: #FEEFD7;
                    fill-opacity: 1;
                .annotation-note-label
                    font-weight: 200
                    font-size 16px
                    @media (max-width: 550px)
                        font-size 14px
                .annotation-note-title
                    font-size 16px
                    @media (max-width: 550px)
                        font-size 14px


.no-diggity
    &.x
        &.axis
            .domain
                visibility: hidden

.song-year-circles
    &.proclaimers_the_i_m_gonna_be_
    &.blackstreet_no_diggity
    &.ace_of_base_the_sign
        fill #ad1b64
        opacity 0.5
    &.dr_dre_nuthin_but_a_g_thang
        fill #14D3A6
        opacity 0.5

.lollipop-song-g
    font-family: 'Atlas Grotesk Web'
    .lollipop-x-axis-base-difference
      opacity .5

.lollipop-song-title
    font-size: 16px
    fill #111
    @media (max-width: 550px)
        font-size 14px

text.lollipop-song-artist
    fill #333
    font-size 12px
    font-weight 400
    @media (max-width: 550px)
      font-size 12px

text.lollipop-song-year
    font-size 12px
    fill #333
    font-weight 400
    @media (max-width: 550px)
        font-size 12px

.axis
    &.lollipop-g
        path
            opacity 0
        // .tick::first-of-type

// .lollipop-x-axis-svg
.chart__lollipop-top-axis
    // transform: translate(0,100%)
    position: -webkit-sticky;
    position: sticky;
    top: 0rem
    .axis-wrapper
      margin 0 auto
      position relative
      &:before
        content ''
        width 210px
        height 40px
        position absolute
        top 40px
        left 50px
        background #feefd7
        z-index 100
        border-bottom-left-radius 3px
        border-bottom-right-radius 3px
        box-shadow 0px 3px 4px 0px rgba(41, 14, 5, 0.19)

.lollipop-g
    .tick
        text
            visibility: hidden


.lollipop-g
    &.fixed
        fill #feefd7
        .tick
            text
                visibility: visible
                font-family $atlas
                font-size 14px
                font-weight 500
                @media (max-width: 550px)
                    font-size 11px

.lollipop-x-axis-svg
    background-color: #FEEFD7
    box-shadow: 0px 8px 4px -7px rgba(41, 14, 5, 0.19)
    margin-bottom 0
    overflow visible
    position relative
    z-index 10000000

text.lollipop-x-axis-label
    font-size 16px
    opacity .8
    fill #645D52

.lollipop-annotation-millennials
  fill #808080
  text-anchor end
  letter-spacing 1px
  text-transform uppercase
  font-weight 600
  font-size 14px

.lollipop-annotation-gen-z
  fill #ad1b64
  letter-spacing 1px
  text-transform uppercase
  font-weight 600
  font-size 14px

.lollipop-annotation-bg
  stroke-width 4px
  stroke #feefd7

.lollipop-annotation-box
  fill #feefd7

.invisible
    visibility: hidden

.out-of-dom
    display none

.mean-recognition
    display: flex
    flex-direction: row
    &.song-examples
        display none

 .chart__mean-recognition
     rect.annotation-note-bg
        fill-opacity: 0;
        fill #feefd7
    .annotation-y-axis
        rect.annotation-note-bg
            fill-opacity: 0;
            fill #feefd7
    .annotation-note-content
      text
          fill #106bb3
        .annotation
            &.label
                &.mean
                    .annotation-note
                        text
                            fill #52370C

    .annotation-y-axis
        .annotations
            .annotation
                .annotation-note
                    .annotation-note-content
                        .annotation-note-title
                            fill #52370C
                            font-size 16px
                            tspan
                              text-anchor end

.background-line
    opacity 0
    stroke rgb(254, 239, 215)
    fill-opacity 0
    stroke-width 7

.background-line-highlight
    opacity 1
    stroke rgb(254, 239, 215)
    fill-opacity 0
    stroke-width 7

.annotation-group-mean-background
    .annotation-note-content
        tspan
            fill rgb(254, 239, 215)
            stroke rgb(254, 239, 215)
            stroke-width: 4px

.g-voronoi
    path
        fill-opacity 0
        stroke black
        opacity 0
        cursor pointer


.chart-contents
    display: flex
    flex-direction: row
    font-family: 'Atlas Grotesk Web'
    justify-content: center
    flex-wrap wrap
    .song-examples
        display: flex
        flex-direction column
        padding-left 1rem
        justify-content center
        @media (max-width:1000px)
          flex-direction row
          flex-wrap wrap
          padding 0
          margin 0
          justify-content center
          margin 0 auto
          .song-example
            margin 0
            padding 0
            width calc(50% - 5px)
            margin-bottom 1rem
            text-align center
    .song-example
      margin-bottom 1rem
      &:hover
        background rgba(0, 0, 0, 0.13)
        border-radius 3px
      .song-example__title
          font-weight 600
          margin 0
          font-size: 14px
          color #52370C
          cursor: pointer
          .song-example__title-text
            margin-right 10px
      .song-example__artist
          font-size: 14px
          font-weight: 400
          margin 0
          @media (max-width: 550px)
              margin-bottom 0.5rem
          color #52370C
          cursor: pointer

.selected-songs
  background rgba(0,0,0,0.13)
  border-radius 3px




.millennial-only-recognition
.overperforming-recognition
.underperforming-recognition
    cursor: pointer

.millennial-only-recognition
.overperforming-recognition
.underperforming-recognition
    .mean
        path
            cursor default


.millennial-only-songs
  .popular_average
    display none

.chart-contents
    &.underperforming-songs
        @media (max-width: 550px)
            .song-examples
                padding 0
                display flex
                flex-direction: row
                flex-wrap: wrap
            flex-direction: column

            .song-example
                display: flex
                flex-direction: column
                width 100%

            .song-example__title
                font-weight: 800
                font-size 14px
                display inline-block
            .song-example__artist
                font-size 14px
                display inline-block
            .song-examples>.song-example
                flex: 0 50%;

    &.overperforming-songs
        @media (max-width: 550px)
            .song-examples
                padding 0
                display flex
                flex-direction: row
                flex-wrap: wrap
            flex-direction: column

            .song-example
                display: flex
                flex-direction: column
                width 100%

            .song-example__title
                font-weight: 800
                font-size 14px
                padding 0 1rem 0 1rem
            .song-example__artist
                font-size 14px
                display inline-block
            .song-examples>.song-example
                flex: 0 50%;



    &.millennial-only-songs
        @media (max-width: 550px)
            .song-examples
                padding 0
                display flex
                flex-direction: row
                flex-wrap: wrap
                justify-content: left
            flex-direction: column

            .song-example
                display: flex
                flex-direction: column
                width 100%

            .song-example__title
                font-weight: 800
                font-size 14px
                display inline-block
            .song-example__artist
                font-size 14px
                display inline-block
            .song-examples>.song-example
                flex: 0 50%;


.sound-icon-span
    padding-right 0.5rem
    cursor pointer
    path
        fill #52370C

.background-fill
  .annotations
    .annotation
      .annotation-connector
          path
            stroke none
      .annotation-note
        .annotation-note-content
          .annotation-note-label, .annotation-note-title
            tspan
              fill #feefd7
              stroke #feefd7
              stroke-width 4px


.y
  .tick
    &:last-of-type
      text
        display none






.howler-icon
    cursor pointer


.chart-hed, .chart-subhed
  max-width 500px
  margin 0 auto
  font-size 28px
  font-family $signifier
  color #402a07
  line-height 1.5
  margin-top 5rem
  width 95%
  @media (max-width:350px)
    font-size 24px

.chart-subhed
  margin-top 1.5rem
  font-family $atlas
  font-size 17px
  font-weight 500
  color #ad1b64
  margin-bottom 1.5rem
  @media (max-width:350px)
    margin-bottom 0
    font-size 14px
    margin-top 1rem


.see-more
  display block
  margin 0 auto
  background black
  color white
  padding .5rem 1.2rem
  border-radius 3px
  font-family $atlas
  box-shadow 0 2px 2px rgba(15, 15, 15, 0.26)
  cursor pointer
.lollipop
  padding-bottom 5rem
  .chart-subhed
    color #333
    opacity .8

.birth-background-anno
    fill #52370c
    font-family: 'Atlas Grotesk Web'
    font-size: 11px
    font-weight 600
    text-transform uppercase
    letter-spacing 1px
    text-anchor middle
    @media (max-width: 550px)
        font-size 10px

#rect1
    fill url(#Gradient1)
    // x1 "0"
    // x2 "0"
    // y1 "0"
    // y2 "1"

.stop1
    stop-color red

.stop2
    stop-color black
    stop-opacity 0

.mean-line
    text
        fill #ad1b64
        text-anchor middle
        dominant-baseline text-after-edge
        alignment-baseline text-after-edge
        tspan
          text-transform uppercase
          font-size 13px
          font-weight 600
          letter-spacing 1px
.rasp, .red
  color $rasp
  background rgba(173, 27, 100, 0.1)
  border-radius 3px

.blue
  color $berry
  background rgba(16, 107, 179, 0.1)
  border-radius 3px


.green
  color rgb(9, 111, 111)
  background rgba(9, 111, 111,.1)
  border-radius 3px
.icon-play
  svg
    path
      fill $rasp
